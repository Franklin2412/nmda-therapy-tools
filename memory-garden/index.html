<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Memory Garden - Fun memory training games for children recovering from NMDA encephalitis">
    <title>Memory Garden üå± - NMDA Therapy Tools</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Poppins:wght@400;600;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="../shared/css/common.css">
    <link rel="stylesheet" href="css/memory-garden.css">
    <link rel="stylesheet" href="css/memory-garden-extra.css">
</head>

<body>
    <!-- Skip link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Header -->
    <header class="app-header">
        <div class="container flex-between">
            <h1>üå± Memory Garden</h1>
            <nav>
                <a href="../index.html" class="btn btn-small btn-secondary">‚Üê Home</a>
                <button class="btn btn-small btn-accent" id="view-progress-btn">üìä Progress</button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Welcome Screen -->
        <section id="welcome-screen" class="screen active">
            <div class="container">
                <div class="welcome-card">
                    <div class="welcome-icon">üå∏</div>
                    <h2>Welcome to Memory Garden!</h2>
                    <p>
                        Let's grow your memory skills with fun flower games.
                        Choose an activity to start playing!
                    </p>

                    <div class="activity-grid">
                        <!-- Activity 1: Flower Memory Match -->
                        <div class="activity-card" data-activity="memory-match">
                            <div class="activity-icon">üå∑</div>
                            <h3>Flower Memory Match</h3>
                            <p>Find matching pairs of beautiful flowers</p>
                            <div class="difficulty-badges">
                                <span class="badge" data-difficulty="easy">Easy (8 cards)</span>
                                <span class="badge" data-difficulty="medium">Medium (12 cards)</span>
                                <span class="badge" data-difficulty="hard">Hard (16 cards)</span>
                            </div>
                        </div>

                        <!-- Activity 2: Garden Sequence -->
                        <div class="activity-card" data-activity="garden-sequence">
                            <div class="activity-icon">üåª</div>
                            <h3>Garden Sequence</h3>
                            <p>Remember the order flowers bloom</p>
                            <button class="btn btn-primary start-sequence-btn">Start Game</button>
                        </div>

                        <!-- Activity 3: Treasure Hunt -->
                        <div class="activity-card" data-activity="treasure-hunt">
                            <div class="activity-icon">üíé</div>
                            <h3>Treasure Hunt</h3>
                            <p>Find hidden treasures in the garden</p>
                            <div class="difficulty-badges">
                                <span class="badge" data-difficulty="easy">Easy (4x4 grid)</span>
                                <span class="badge" data-difficulty="medium">Medium (5x5 grid)</span>
                                <span class="badge" data-difficulty="hard">Hard (6x6 grid)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Memory Match Game Screen -->
        <section id="game-screen" class="screen">
            <div class="container">
                <!-- Game Header -->
                <div class="game-header flex-between">
                    <div class="game-info">
                        <h2 id="game-title">üå∑ Flower Memory Match</h2>
                        <p id="game-difficulty">Difficulty: <span id="difficulty-label">Easy</span></p>
                    </div>
                    <div class="game-stats">
                        <div class="stat">
                            <span class="stat-label">Matches</span>
                            <span class="stat-value" id="matches-count">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Moves</span>
                            <span class="stat-value" id="moves-count">0</span>
                        </div>
                    </div>
                </div>

                <!-- Game Board -->
                <div id="game-board" class="game-board">
                    <!-- Cards will be dynamically inserted here -->
                </div>

                <!-- Game Controls -->
                <div class="game-controls">
                    <button class="btn btn-secondary" id="new-game-btn">üîÑ New Game</button>
                    <button class="btn btn-accent" id="change-difficulty-btn">‚öôÔ∏è Change Difficulty</button>
                    <button class="btn btn-primary" id="back-to-menu-btn">‚Üê Back to Menu</button>
                </div>
            </div>
        </section>

        <!-- Victory Screen -->
        <section id="victory-screen" class="screen">
            <div class="container">
                <div class="victory-card">
                    <div class="victory-animation">
                        <div class="celebration">üéâ</div>
                        <div class="celebration">‚≠ê</div>
                        <div class="celebration">üåü</div>
                    </div>
                    <h2>Amazing Job!</h2>
                    <p class="victory-message">You found all the flower pairs!</p>
                    <div class="victory-stats">
                        <div class="victory-stat">
                            <span class="stat-icon">‚úÖ</span>
                            <span class="stat-text"><strong id="victory-moves">0</strong> moves</span>
                        </div>
                        <div class="victory-stat">
                            <span class="stat-icon">‚è±Ô∏è</span>
                            <span class="stat-text"><strong id="victory-time">0:00</strong></span>
                        </div>
                    </div>
                    <div class="victory-actions">
                        <button class="btn btn-large btn-primary" id="play-again-btn">Play Again</button>
                        <button class="btn btn-large btn-secondary" id="victory-menu-btn">Back to Menu</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Garden Sequence Game Screen -->
        <section id="sequence-screen" class="screen">
            <div class="container">
                <div class="game-header flex-between">
                    <div class="game-info">
                        <h2>üåª Garden Sequence</h2>
                        <p id="gs-status">Watch the sequence...</p>
                    </div>
                    <div class="game-stats">
                        <div class="stat">
                            <span class="stat-label">Level</span>
                            <span class="stat-value" id="gs-level">1</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Score</span>
                            <span class="stat-value" id="gs-score">0</span>
                        </div>
                    </div>
                </div>

                <div class="sequence-container">
                    <div class="sequence-flowers" id="sequence-flowers">
                        <!-- Flowers will be generated here -->
                    </div>
                </div>

                <!-- Game Over overlay for sequence -->
                <div id="gs-game-over" class="game-over-overlay hidden">
                    <div class="game-over-card">
                        <h2>Game Over!</h2>
                        <p>Final Score: <strong id="gs-final-score">0</strong></p>
                        <p>Level Reached: <strong id="gs-final-level">0</strong></p>
                        <div class="game-over-actions">
                            <button class="btn btn-large btn-primary" id="gs-play-again">Play Again</button>
                            <button class="btn btn-large btn-secondary" id="gs-back-menu">Back to Menu</button>
                        </div>
                    </div>
                </div>

                <div class="game-controls">
                    <button class="btn btn-secondary" id="sequence-back-btn">‚Üê Back to Menu</button>
                </div>
            </div>
        </section>

        <!-- Treasure Hunt Game Screen -->
        <section id="treasure-screen" class="screen">
            <div class="container">
                <div class="game-header flex-between">
                    <div class="game-info">
                        <h2>üíé Treasure Hunt</h2>
                        <p id="th-status">Memorize the treasure locations!</p>
                    </div>
                    <div class="game-stats">
                        <div class="stat">
                            <span class="stat-label">Found</span>
                            <span class="stat-value"><span id="th-found">0</span>/<span id="th-total">4</span></span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Attempts</span>
                            <span class="stat-value"><span id="th-attempts">0</span>/<span
                                    id="th-max-attempts">10</span></span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Score</span>
                            <span class="stat-value" id="th-score">0</span>
                        </div>
                    </div>
                </div>

                <div class="treasure-container">
                    <div id="th-grid" class="treasure-grid">
                        <!-- Grid will be generated here -->
                    </div>
                </div>

                <!-- Game Over overlay for treasure hunt -->
                <div id="th-game-over" class="game-over-overlay hidden">
                    <div class="game-over-card">
                        <h2 id="th-result-title">üéâ Victory!</h2>
                        <p>Score: <strong id="th-final-score">0</strong></p>
                        <p>Treasures Found: <strong id="th-treasures-found">0/4</strong></p>
                        <p>Attempts Used: <strong id="th-attempts-used">0/10</strong></p>
                        <div class="game-over-actions">
                            <button class="btn btn-large btn-primary" id="th-play-again">Play Again</button>
                            <button class="btn btn-large btn-secondary" id="th-back-menu">Back to Menu</button>
                        </div>
                    </div>
                </div>

                <div class="game-controls">
                    <button class="btn btn-secondary" id="treasure-back-btn">‚Üê Back to Menu</button>
                </div>
            </div>
        </section>

        <!-- Progress Modal -->
        <div id="progress-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üìä Your Progress</h2>
                    <button class="modal-close" id="close-progress-modal">&times;</button>
                </div>
                <div class="modal-body" id="progressContent">
                    <!-- Progress data will be inserted here -->
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="export-progress-btn">üíæ Export Data</button>
                    <button class="btn btn-primary" id="close-progress-btn">Close</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="../shared/js/storage.js"></script>
    <script src="js/memory-match.js"></script>
    <script src="js/garden-sequence.js"></script>
    <script src="js/treasure-hunt.js"></script>
    <script src="js/app.js"></script>
</body>

</html>